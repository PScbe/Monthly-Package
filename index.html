<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>Posible Studio Calculators</title>

  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Ccircle cx=%2250%22 cy=%2250%22 r=%2250%22 fill=%22%2323facc1%22/%3E%3C/svg%3E" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <style>
    :root {
      --studio-yellow: #fde047;
      --studio-green: #064e3b;
    }
    body {
      background-color: var(--studio-green);
      color: var(--studio-yellow);
      font-family: "Plus Jakarta Sans", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-image:
        radial-gradient(circle at 10% 10%, rgba(253, 224, 71, 0.05) 0, transparent 25%),
        radial-gradient(circle at 90% 90%, rgba(253, 224, 71, 0.05) 0, transparent 25%);
      margin: 0;
      padding: 0;
    }
    .glass-card {
      background: rgba(2, 44, 34, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(253, 224, 71, 0.15);
      border-radius: 2rem;
      width: 100%;
      max-width: 480px;
    }
    .stepper-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      background: var(--studio-yellow);
      color: var(--studio-green);
    }
    .stepper-btn:disabled {
      opacity: 0.1;
    }
    .cal-day {
      aspect-ratio: 1/1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0.5rem;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    .cal-day-booked {
      background: #ef4444;
      color: white;
      font-weight: 700;
      box-shadow: 0 0 10px rgba(239, 68, 68, 0.4);
    }
    .cal-day-partial {
      background: #f97316;
      color: white;
    }
    .cal-day-today {
      border: 2px solid var(--studio-yellow);
    }
    .cal-day-selected {
      background: var(--studio-yellow);
      color: var(--studio-green);
      font-weight: 800;
      transform: scale(1.1);
    }
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .btn-toggle-active {
      background-color: var(--studio-yellow);
      color: var(--studio-green);
    }
    .btn-toggle-inactive {
      background-color: rgba(255, 255, 255, 0.05);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
  </style>
</head>
<body class="min-h-[100dvh] flex flex-col items-center p-3 md:p-6 overflow-x-hidden">
  <div id="root" class="w-full flex flex-col items-center"></div>

  <script type="module">
    const { useState, useEffect, createElement, Fragment, useMemo } = window.React;
    const ReactDOM = window.ReactDOM;
    const firebase = window.firebase;

    const firebaseConfig = {
      apiKey: "AIzaSyAIHIVv6dJ0LlNqP0qkYNok7xsbxHgdRY",
      authDomain: "studio-space-rental-database.firebaseapp.com",
      databaseURL: "https://studio-space-rental-database-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "studio-space-rental-database",
      storageBucket: "studio-space-rental-database.appspot.com",
      messagingSenderId: "176375720882",
      appId: "1:176375720882:web:ac012e2d33e8fec5ca52ab",
      measurementId: "G-NWZ18H2CVT"
    };

    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
    const db = firebase.database();
    const rentalsRef = db.ref("rentals");

    const getLocalDateString = (d = new Date()) => {
      const y = d.getFullYear();
      const m = String(d.getMonth() + 1).padStart(2, "0");
      const da = String(d.getDate()).padStart(2, "0");
      return `${y}-${m}-${da}`;
    };

    const formatTo12Hour = (time) => {
      if (!time) return "";
      let [h, m] = time.split(":");
      h = parseInt(h, 10);
      const ap = h >= 12 ? "PM" : "AM";
      const hh = h % 12 || 12;
      return `${hh}:${m} ${ap}`;
    };

    /* ---------------- Hourly Calculator ---------------- */

    function HourlyCalculator() {
      const [cams, setCams] = useState(1);
      const [hours, setHours] = useState(1);
      const [isModalOpen, setIsModalOpen] = useState(false);

      const rates = {
        1: 2500,
        2: 3500,
        3: 4500
      };

      useEffect(() => {
        if (cams === 3 && hours < 2) {
          setHours(2);
        }
      }, [cams]);

      const changeHours = (v) => {
        setHours((p) => Math.max(cams === 3 ? 2 : 1, p + v));
      };
      const changeCams = (v) => {
        setCams((p) => Math.min(3, Math.max(1, p + v)));
      };

      const equipment = [
        "FX30 Camera and Sigma Lenses",
        "Nanlite 300b",
        "Godox TL60 RBG Tubes",
        "Shure SM7db Mics",
        "DJI Wireless Mics",
        "Zoom H6 Recorder"
      ];

      return createElement("div", { className: "glass-card p-5 md:p-10 space-y-4 md:space-y-6" },
        createElement("header", { className: "text-center" },
          createElement("div", { className: "inline-block px-3 py-0.5 rounded-full bg-yellow-400/10 text-yellow-400 text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] border border-yellow-400/20 mb-1" }, "Hourly Rental"),
          createElement("h1", { className: "text-2xl md:text-4xl font-extrabold tracking-tight text-white" }, "Posible ", createElement("span", { className: "text-yellow-400" }, "Studio")),
          createElement("p", { className: "text-yellow-400/40 text-[8px] md:text-[10px] font-bold uppercase tracking-[0.3em] mt-0.5" }, "Price Calculator")
        ),
        createElement("div", { className: "flex gap-2.5 items-end" },
          createElement("div", { className: "flex-1" },
            createElement("label", { className: "block text-[8px] md:text-[10px] font-black uppercase text-yellow-400/30 mb-2" }, "Cams"),
            createElement("div", { className: "flex items-center justify-between bg-black/40 p-1.5 rounded-xl border border-white/5" },
              createElement("button", { onClick: () => changeCams(-1), disabled: cams === 1, className: "stepper-btn" }, "-"),
              createElement("div", { className: "text-2xl font-black text-white" }, cams),
              createElement("button", { onClick: () => changeCams(1), disabled: cams === 3, className: "stepper-btn" }, "+")
            )
          ),
          createElement("div", { className: "flex-1" },
            createElement("div", { className: "flex justify-between mb-2" },
              createElement("label", { className: "text-[8px] md:text-[10px] font-black uppercase text-yellow-400/30" }, "Hours"),
              cams === 3 && createElement("span", { className: "px-1 rounded-sm bg-yellow-400 text-green-950 text-[6px] font-black" }, "Min 2")
            ),
            createElement("div", { className: "flex items-center justify-between bg-black/40 p-1.5 rounded-xl border border-white/5" },
              createElement("button", { onClick: () => changeHours(-1), disabled: hours === (cams === 3 ? 2 : 1), className: "stepper-btn" }, "-"),
              createElement("div", { className: "text-2xl font-black text-white tabular-nums" }, hours),
              createElement("button", { onClick: () => changeHours(1), className: "stepper-btn" }, "+")
            )
          )
        ),
        createElement("div", { className: "space-y-3" },
          createElement("button", {
            onClick: () => setIsModalOpen(true),
            className: "w-full py-2.5 rounded-xl bg-white/5 border border-white/10 text-yellow-400 text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em]"
          }, "Equipment List"),
          createElement("div", { className: "bg-yellow-400 rounded-2xl p-4 md:p-6 text-center" },
            createElement("p", { className: "text-[8px] font-black text-green-950/40 mb-0.5" }, "Rental Price"),
            createElement("div", { className: "flex justify-center text-green-950" },
              createElement("span", { className: "text-sm font-bold mt-1.5" }, "â‚¹"),
              createElement("span", { className: "text-4xl font-black tracking-tighter" }, (rates[cams] * hours).toLocaleString("en-IN"))
            )
          )
        ),
        isModalOpen && createElement("div", {
          className: "fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay",
          onClick: () => setIsModalOpen(false)
        },
          createElement("div", {
            className: "bg-gray-900 w-full max-w-xs rounded-3xl p-6 modal-content",
            onClick: (e) => e.stopPropagation()
          },
            createElement("h2", { className: "text-sm font-black uppercase text-white mb-6" }, "Studio Gear"),
            createElement("div", { className: "space-y-3" },
              equipment.map((item) =>
                createElement("div", { key: item, className: "flex items-center gap-3" },
                  createElement("div", { className: "w-1 h-1 rounded-full bg-yellow-400" }),
                  createElement("span", { className: "text-xs font-bold text-yellow-400/80" }, item)
                )
              )
            ),
            createElement("button", {
              onClick: () => setIsModalOpen(false),
              className: "w-full mt-8 py-3 bg-yellow-400 text-green-950 font-black rounded-xl text-[9px]"
            }, "Done")
          )
        )
      );
    }

    /* ---------------- Package Calculator ---------------- */

    function PackageCalculator() {
      const [cams, setCams] = useState(1);
      const [reels, setReels] = useState(5);
      const [vids, setVids] = useState(0);
      const [posters, setPosters] = useState(0);
      const [sameShoot, setSameShoot] = useState(true);

      const reelRate = cams === 3 ? 4500 : 3500;
      const editRate = cams === 1 ? 1500 : cams === 2 ? 2500 : 3500;

      let shootHours = Math.ceil(reels / 2);
      if (vids > 0 && !sameShoot) {
        shootHours = Math.max(shootHours, Math.ceil(vids / 2));
      }
      if (vids > 0) {
        shootHours = Math.max(shootHours, Math.ceil((vids * 15) / 30 / 60));
      }

      let shootCost = 0;
      if (shootHours > 0) {
        if (cams === 1) {
          shootCost = 1500 + Math.max(0, shootHours - 1) * 1000;
        } else if (cams === 2) {
          shootCost = 2500 + Math.max(0, shootHours - 1) * 2000;
        } else {
          shootCost = shootHours === 1 ? 3500 : 3500 + (shootHours - 2) * 2500;
        }
      }
      const total = shootCost + reels * reelRate + vids * editRate + posters * 500;

      const Stepper = (val, set, min = 0) =>
        createElement("div", { className: "flex items-center space-x-2" },
          createElement("button", { onClick: () => set(Math.max(min, val - 1)), className: "stepper-btn" }, "-"),
          createElement("span", { className: "w-6 text-center font-bold text-yellow-400 text-sm" }, val),
          createElement("button", { onClick: () => set(val + 1), className: "stepper-btn" }, "+")
        );

      return createElement("div", { className: "glass-card p-5 md:p-10 space-y-4" },
        createElement("header", { className: "text-center" },
          createElement("div", { className: "inline-block px-3 py-0.5 rounded-full bg-yellow-400/10 text-yellow-400 text-[8px] md:text-[10px] font-black uppercase border border-yellow-400/20 mb-1" }, "Monthly Package"),
          createElement("h2", { className: "text-2xl md:text-3xl font-extrabold text-white" }, "Possible Studio")
        ),
        createElement("div", { className: "space-y-4" },
          createElement("div", { className: "grid grid-cols-3 gap-1.5" },
            [1, 2, 3].map((n) =>
              createElement("button", {
                key: n,
                onClick: () => setCams(n),
                className: `py-2 rounded-lg text-[10px] font-bold ${cams === n ? "btn-toggle-active" : "btn-toggle-inactive"}`
              }, `${n} Cam`)
            )
          ),
          createElement("div", { className: "bg-black/30 p-4 rounded-xl space-y-3 border border-white/5" },
            createElement("div", { className: "flex justify-between items-center" },
              createElement("span", { className: "text-xs font-bold text-gray-300" }, "Reels (Min 5)"),
              Stepper(reels, setReels, 5)
            ),
            createElement("div", { className: "flex justify-between items-center" },
              createElement("div", null,
                createElement("span", { className: "text-xs font-bold text-gray-300 block" }, "Full Videos"),
                createElement("span", { className: "text-[9px] text-gray-500" }, "8-15 min")
              ),
              Stepper(vids, setVids, 0)
            ),
            createElement("label", { className: "flex items-center gap-2 cursor-pointer" },
              createElement("input", {
                type: "checkbox",
                checked: sameShoot,
                onChange: (e) => setSameShoot(e.target.checked),
                className: "w-4 h-4 accent-yellow-400"
              }),
              createElement("span", { className: "text-[10px] text-gray-400" }, "Same shoot for reels & video")
            ),
            createElement("div", { className: "flex justify-between items-center" },
              createElement("span", { className: "text-xs font-bold text-gray-300" }, "Posters"),
              Stepper(posters, setPosters, 0)
            )
          ),
          createElement("div", { className: "grid grid-cols-2 gap-2" },
            createElement("div", { className: "bg-white/5 p-3 rounded-xl text-center" },
              createElement("span", { className: "text-[9px] text-gray-500 block" }, "Shoot Time"),
              createElement("span", { className: "text-xl font-bold text-white" }, `${shootHours} Hrs`)
            ),
            createElement("div", { className: "bg-yellow-400 p-3 rounded-xl text-center" },
              createElement("span", { className: "text-[9px] text-green-950/50 block" }, "Total Est."),
              createElement("span", { className: "text-xl font-black text-green-950" }, total.toLocaleString("en-IN"))
            )
          )
        )
      );
    }

    /* ---------------- Availability / Slot Finder ---------------- */

    function SlotAvailability() {
      const [selectedDate, setSelectedDate] = useState(getLocalDateString());
      const [bookings, setBookings] = useState([]);
      const [currentMonth, setCurrentMonth] = useState(new Date());

      const toMinutes = (t) => {
        if (!t) return null;
        const parts = String(t).split(":");
        if (parts.length < 2) return null;
        const h = parseInt(parts[0], 10);
        const m = parseInt(parts[1], 10);
        if (Number.isNaN(h) || Number.isNaN(m)) return null;
        return h * 60 + m;
      };

      const minutesToTime = (mins) => {
        const h = String(Math.floor(mins / 60)).padStart(2, "0");
        const m = String(mins % 60).padStart(2, "0");
        return `${h}:${m}`;
      };

      const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

      const mergeIntervals = (intervals) => {
        const arr = intervals
          .filter((i) => i && i.end > i.start)
          .sort((a, b) => a.start - b.start);
        const out = [];
        for (const cur of arr) {
          const last = out[out.length - 1];
          if (!last || cur.start > last.end) out.push({ ...cur });
          else last.end = Math.max(last.end, cur.end);
        }
        return out;
      };

      const subtractFromOpenHours = (openStart, openEnd, busy) => {
        const free = [];
        let cur = openStart;
        for (const b of busy) {
          if (b.start > cur) free.push({ start: cur, end: b.start });
          cur = Math.max(cur, b.end);
        }
        if (cur < openEnd) free.push({ start: cur, end: openEnd });
        return free;
      };

      const getOpenHours = (dateStr) => {
        const d = new Date(`${dateStr}T00:00:00`);
        const day = d.getDay();
        const isSunday = day === 0;
        const isSaturday = day === 6;

        if (isSunday) {
          return { isSunday: true, isSaturday: false, openStart: null, openEnd: null, isHoliday: true };
        }

        const openStart = 10 * 60;
        const openEnd = isSaturday ? 17 * 60 : 19 * 60;
        return { isSunday: false, isSaturday, openStart, openEnd, isHoliday: false };
      };

      const getDayInfo = (dateStr, dayBookings) => {
        const { isSunday, isSaturday, openStart, openEnd, isHoliday } = getOpenHours(dateStr);

        const bookingsArr = dayBookings || [];
        const hasAnyBooking = bookingsArr.length > 0;

        // Sunday holiday only if no bookings
        if (isHoliday && !hasAnyBooking) {
          return {
            isSunday,
            isSaturday,
            openStart,
            openEnd,
            isHoliday: true,
            fullDayBlocks: [],
            busyMerged: [],
            free: []
          };
        }

        const fullDayBlocks = bookingsArr.filter((b) => b.isFullDayBlock);
        if (fullDayBlocks.length > 0) {
          return {
            isSunday,
            isSaturday,
            openStart,
            openEnd,
            isHoliday: false,
            fullDayBlocks,
            busyMerged: [],
            free: []
          };
        }

        const busyIntervals = bookingsArr
          .filter((b) => !b.isFullDayBlock)
          .map((b) => {
            const s = toMinutes(b.start) ?? openStart;
            const eRaw = toMinutes(b.end);
            const e = eRaw == null ? openEnd : eRaw;
            const start = clamp(s, openStart, openEnd);
            const end = clamp(e, openStart, openEnd);
            return { start, end, client: b.client };
          });

        const busyMerged = mergeIntervals(busyIntervals);
        const free = subtractFromOpenHours(openStart, openEnd, busyMerged);
        return {
          isSunday,
          isSaturday,
          openStart,
          openEnd,
          isHoliday: false,
          fullDayBlocks: [],
          busyMerged,
          free
        };
      };

      useEffect(() => {
        const onData = (snap) => {
          const data = [];
          snap.forEach((child) => {
            const val = child.val();
            if (val && val.bookingSegments) {
              const isFullDayBlock =
                val.markUnavailable === true ||
                val.isNotAvailable === true ||
                val.isPossibleStudioShoot ||
                val.isInHouseClient;

              const blockReason =
                val.markUnavailable === true
                  ? "Marked as Not Available"
                  : val.isPossibleStudioShoot
                  ? "Possible Studio Shoot"
                  : val.isInHouseClient
                  ? "InHouse Client"
                  : "Blocked";

              val.bookingSegments.forEach((seg) => {
                data.push({
                  date: seg.date,
                  start: seg.startTime,
                  end: seg.endTime || null,
                  isFullDayBlock,
                  blockReason,
                  client: val.clientName
                });
              });
            }
          });
          setBookings(data);
        };

        rentalsRef.on("value", onData);
        return () => rentalsRef.off("value", onData);
      }, []);

      const bookingsByDate = useMemo(() => {
        const map = {};
        bookings.forEach((b) => {
          if (!b || !b.date) return;
          (map[b.date] = map[b.date] || []).push(b);
        });
        Object.values(map).forEach((arr) =>
          arr.sort((a, b) => (a.start || "").localeCompare(b.start || ""))
        );
        return map;
      }, [bookings]);

      const daysInMonth = useMemo(() => {
        const d = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);
        const res = [];
        while (d.getMonth() === currentMonth.getMonth()) {
          res.push(new Date(d));
          d.setDate(d.getDate() + 1);
        }
        return res;
      }, [currentMonth]);

      const selectedDayBookings = useMemo(
        () => bookingsByDate[selectedDate] || [],
        [bookingsByDate, selectedDate]
      );
      const selectedInfo = useMemo(
        () => getDayInfo(selectedDate, selectedDayBookings),
        [selectedDate, selectedDayBookings]
      );

      return createElement(
        "div",
        { className: "glass-card p-5 md:p-8 space-y-6" },
        createElement(
          "header",
          { className: "text-center" },
          createElement(
            "div",
            {
              className:
                "inline-block px-3 py-0.5 rounded-full bg-yellow-400/10 text-yellow-400 text-[8px] md:text-[10px] font-black uppercase tracking-[0.2em] border border-yellow-400/20 mb-1"
            },
            "Slot Finder"
          ),
          createElement(
            "h2",
            { className: "text-2xl font-extrabold text-white" },
            "Availability"
          )
        ),
        createElement(
          "div",
          { className: "space-y-4" },
          createElement(
            "div",
            { className: "flex justify-between items-center px-2" },
            createElement(
              "button",
              {
                onClick: () =>
                  setCurrentMonth(new Date(currentMonth.setMonth(currentMonth.getMonth() - 1))),
                className: "text-yellow-400 font-black p-2"
              },
              "<"
            ),
            createElement(
              "span",
              { className: "text-sm font-bold text-white uppercase tracking-widest" },
              currentMonth.toLocaleDateString("default", { month: "long", year: "numeric" })
            ),
            createElement(
              "button",
              {
                onClick: () =>
                  setCurrentMonth(new Date(currentMonth.setMonth(currentMonth.getMonth() + 1))),
                className: "text-yellow-400 font-black p-2"
              },
              ">"
            )
          ),
          createElement(
            "div",
            { className: "grid grid-cols-7 gap-1" },
            ["S", "M", "T", "W", "T", "F", "S"].map((d) =>
              createElement(
                "div",
                {
                  key: d,
                  className: "text-center text-[8px] text-gray-500 font-black py-1"
                },
                d
              )
            ),
            Array(daysInMonth[0].getDay())
              .fill(null)
              .map((_, i) => createElement("div", { key: `e${i}` })),
            daysInMonth.map((date) => {
              const dateStr = getLocalDateString(date);
              const dayBookings = bookingsByDate[dateStr] || [];
              const info = getDayInfo(dateStr, dayBookings);

              let statusCls = "bg-white/5 text-gray-300";
              if (info.isHoliday) {
                statusCls = "bg-gray-700 text-gray-500";
              } else if (dayBookings.length > 0) {
                const noFreeTime =
                  info.fullDayBlocks.length > 0 ||
                  (info.free.length === 0 && info.busyMerged.length > 0);
                statusCls = noFreeTime ? "cal-day-booked" : "cal-day-partial";
              }

              return createElement(
                "div",
                {
                  key: dateStr,
                  onClick: () => setSelectedDate(dateStr),
                  className: `cal-day ${statusCls} ${
                    dateStr === getLocalDateString() ? "cal-day-today" : ""
                  } ${dateStr === selectedDate ? "cal-day-selected" : ""}`
                },
                date.getDate()
              );
            })
          )
        ),
        createElement(
          "div",
          { className: "bg-black/30 rounded-xl overflow-hidden border border-white/5" },
          createElement(
            "div",
            { className: "p-3 bg-white/5 border-b border-white/5" },
            createElement(
              "div",
              {
                className:
                  "text-[10px] font-black text-yellow-400 uppercase tracking-widest"
              },
              new Date(selectedDate).toLocaleDateString("default", {
                day: "numeric",
                month: "short",
                weekday: "long"
              })
            ),
            createElement(
              "div",
              { className: "mt-1 text-[9px] font-bold text-gray-400" },
              selectedInfo.isHoliday
                ? "CLOSED - Sunday Holiday"
                : selectedInfo.isSaturday
                ? "Open: 10:00 AM - 5:00 PM (Saturday)"
                : "Open: 10:00 AM - 7:00 PM"
            )
          ),
          createElement(
            "div",
            { className: "max-h-[260px] overflow-y-auto no-scrollbar p-2 space-y-2" },
            selectedInfo.isHoliday
              ? createElement(
                  "div",
                  {
                    className: "p-3 rounded-xl border bg-gray-500/10 border-gray-500/20"
                  },
                  createElement(
                    "div",
                    { className: "flex justify-between items-center mb-1" },
                    createElement(
                      "span",
                      {
                        className:
                          "text-[9px] font-black uppercase tracking-widest text-gray-400"
                      },
                      "SUNDAY HOLIDAY"
                    ),
                    createElement(
                      "span",
                      { className: "text-[10px] font-bold text-gray-400" },
                      "Closed"
                    )
                  ),
                  createElement(
                    "div",
                    {
                      className:
                        "text-xs font-bold text-white text-center py-4"
                    },
                    "Studio is closed on Sundays"
                  )
                )
              : selectedInfo.fullDayBlocks.length > 0
              ? createElement(
                  "div",
                  {
                    className: "p-3 rounded-xl border bg-red-500/10 border-red-500/20"
                  },
                  createElement(
                    "div",
                    { className: "flex justify-between items-center mb-1" },
                    createElement(
                      "span",
                      {
                        className:
                          "text-[9px] font-black uppercase tracking-widest text-red-400"
                      },
                      "DAY NOT AVAILABLE"
                    ),
                    createElement(
                      "span",
                      { className: "text-[10px] font-bold text-gray-400" },
                      "Blocked"
                    )
                  ),
                  createElement(
                    "div",
                    { className: "text-xs font-bold text-white" },
                    "This day is blocked"
                  ),
                  createElement(
                    "div",
                    { className: "mt-2 space-y-1" },
                    selectedInfo.fullDayBlocks.map((b, i) =>
                      createElement(
                        "div",
                        {
                          key: i,
                          className: "text-[11px] font-bold text-red-200"
                        },
                        `${b.client || "Booking"} (${b.blockReason})`
                      )
                    )
                  )
                )
              : createElement(
                  Fragment,
                  null,
                  selectedInfo.free.length > 0
                    ? selectedInfo.free.map((s, i) =>
                        createElement(
                          "div",
                          {
                            key: `free-${i}`,
                            className:
                              "p-3 rounded-xl border bg-emerald-500/10 border-emerald-500/20"
                          },
                          createElement(
                            "div",
                            {
                              className: "flex justify-between items-center"
                            },
                            createElement(
                              "span",
                              {
                                className:
                                  "text-[9px] font-black uppercase tracking-widest text-emerald-300"
                              },
                              "AVAILABLE"
                            ),
                            createElement(
                              "span",
                              {
                                className:
                                  "text-[10px] font-bold text-gray-200 tabular-nums"
                              },
                              `${formatTo12Hour(
                                minutesToTime(s.start)
                              )} - ${formatTo12Hour(
                                minutesToTime(s.end)
                              )}`
                            )
                          )
                        )
                      )
                    : (
                        // Show "NO AVAILABLE TIME" only if NOT Sunday
                        !selectedInfo.isSunday
                          ? createElement(
                              "div",
                              {
                                className:
                                  "p-3 rounded-xl border bg-red-500/10 border-red-500/20"
                              },
                              createElement(
                                "div",
                                {
                                  className:
                                    "flex justify-between items-center"
                                },
                                createElement(
                                  "span",
                                  {
                                    className:
                                      "text-[9px] font-black uppercase tracking-widest text-red-400"
                                  },
                                  "NO AVAILABLE TIME"
                                ),
                                createElement(
                                  "span",
                                  {
                                    className:
                                      "text-[10px] font-bold text-gray-300"
                                  },
                                  "Fully booked"
                                )
                              )
                            )
                          : null
                      ),
                  selectedDayBookings.length > 0
                    ? createElement(
                        "div",
                        { className: "pt-2" },
                        createElement(
                          "div",
                          {
                            className:
                              "text-[9px] font-black uppercase tracking-widest text-gray-500 px-1 mb-1"
                          },
                          "Bookings"
                        ),
                        selectedDayBookings.map((b, i) =>
                          createElement(
                            "div",
                            {
                              key: `b-${i}`,
                              className: `p-3 rounded-xl border ${
                                b.isFullDayBlock
                                  ? "bg-red-500/10 border-red-500/20"
                                  : "bg-orange-500/10 border-orange-500/20"
                              }`
                            },
                            createElement(
                              "div",
                              {
                                className:
                                  "flex justify-between items-center mb-1"
                              },
                              createElement(
                                "span",
                                {
                                  className: `text-[9px] font-black uppercase tracking-widest ${
                                    b.isFullDayBlock
                                      ? "text-red-400"
                                      : "text-orange-400"
                                  }`
                                },
                                b.isFullDayBlock ? "BLOCKED" : "RENTAL"
                              ),
                              createElement(
                                "span",
                                {
                                  className:
                                    "text-[10px] font-bold text-gray-400 tabular-nums"
                                },
                                b.isFullDayBlock
                                  ? "Day"
                                  : `${formatTo12Hour(b.start)} - ${formatTo12Hour(
                                      b.end || minutesToTime(selectedInfo.openEnd)
                                    )}`
                              )
                            ),
                            createElement(
                              "div",
                              { className: "text-xs font-bold text-white" },
                              b.client ||
                                (b.isFullDayBlock ? "Studio Unavailable" : "Booking")
                            )
                          )
                        )
                      )
                    : null
                )
          )
        ),
        createElement(
          "div",
          { className: "flex justify-center gap-4" },
          createElement(
            "div",
            { className: "flex items-center gap-1.5" },
            createElement("div", {
              className: "w-2 h-2 rounded bg-white/10"
            }),
            createElement(
              "span",
              { className: "text-[8px] font-bold text-gray-500" },
              "Free"
            )
          ),
          createElement(
            "div",
            { className: "flex items-center gap-1.5" },
            createElement("div", {
              className: "w-2 h-2 rounded bg-orange-500"
            }),
            createElement(
              "span",
              { className: "text-[8px] font-bold text-gray-500" },
              "Partial"
            )
          ),
          createElement(
            "div",
            { className: "flex items-center gap-1.5" },
            createElement("div", {
              className: "w-2 h-2 rounded bg-red-500"
            }),
            createElement(
              "span",
              { className: "text-[8px] font-bold text-gray-500" },
              "Blocked"
            )
          )
        )
      );
    }

    /* ---------------- Root App ---------------- */

    function App() {
      const [tab, setTab] = useState("hourly");
      return createElement(
        Fragment,
        null,
        createElement(
          "nav",
          { className: "flex bg-black/40 p-1 rounded-full mb-6 border border-white/10" },
          createElement(
            "button",
            {
              onClick: () => setTab("hourly"),
              className: `px-4 md:px-6 py-2 rounded-full text-[9px] md:text-[10px] font-black uppercase tracking-widest transition-all ${
                tab === "hourly" ? "bg-yellow-400 text-green-950" : "text-gray-500"
              }`
            },
            "Hourly"
          ),
          createElement(
            "button",
            {
              onClick: () => setTab("package"),
              className: `px-4 md:px-6 py-2 rounded-full text-[9px] md:text-[10px] font-black uppercase tracking-widest transition-all ${
                tab === "package" ? "bg-yellow-400 text-green-950" : "text-gray-500"
              }`
            },
            "Package"
          ),
          createElement(
            "button",
            {
              onClick: () => setTab("avail"),
              className: `px-4 md:px-6 py-2 rounded-full text-[9px] md:text-[10px] font-black uppercase tracking-widest transition-all ${
                tab === "avail" ? "bg-yellow-400 text-green-950" : "text-gray-500"
              }`
            },
            "Availability"
          )
        ),
        tab === "hourly"
          ? createElement(HourlyCalculator)
          : tab === "package"
          ? createElement(PackageCalculator)
          : createElement(SlotAvailability)
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(createElement(App));
  </script>
</body>
</html>
